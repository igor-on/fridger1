<section class="recipes-list sm:p-14">
    <div class="upper-content">
        <div class="global-search">
            <input
                class="w-80 sm:w-[40rem]"
                type="text"
                name="global-search"
                id=""
                [formControl]="globalFilter"
                placeholder="Search recipe by name, ingredient and etc..."
                autocomplete="off" />
        </div>
        <!-- <div class="options">
            <h3>Options</h3>
        </div> -->
    </div>
    <div class="main-content">
        <div class="title">
            <h1>Your recipes</h1>
            <!-- <a href="edit-recipe.html"> -->
            <button
                routerLink="/recipe-form"
                type="button"
                data-bs-toggle="tooltip"
                data-bs-placement="top"
                title="Create recipe">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="32"
                    height="32"
                    fill="currentColor"
                    class="bi bi-plus-circle-fill"
                    viewBox="0 0 16 16">
                    <path
                        d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z" />
                </svg>
            </button>
            <!-- </a> -->
            <div *ngIf="message" (click)="message = ''" class="alert alert-success" role="alert">
                {{ message }}
            </div>
        </div>
        <div
            class="recipes-list-wrapper grid grid-cols-1 grid-rows-1 gap-16 md:grid-cols-2 md:grid-rows-2 2xl:grid-cols-3 2xl:grid-rows-3">
            <!-- Loading skeletons -->
            <div
                class="recipe-box"
                [ngStyle]="{ display: recipesLoading ? 'block' : 'none' }"
                *ngFor="let mock of [0, 1, 2, 3, 4, 5, 6, 7, 8]">
                <p-skeleton class="w-full" height="8rem" borderRadius="16px"></p-skeleton>
            </div>
            <div class="recipe-box" *ngFor="let recipe of getGlobalFilteredRecipes()">
                <!-- <a href="recipe-details.html"> -->
                <div class="image-box w-[150px]" [routerLink]="['/recipe-details', recipe.id]">
                    <img class="circle-image" [src]="recipe.imageUrl" alt="food-image" />
                </div>
                <div
                    class="name-box cursor-pointer"
                    [routerLink]="['/recipe-details', recipe.id]"
                    color="orange"
                    randBgColor>
                    <p class="text-base sm:text-center">{{ recipe.name }}</p>
                    <div class="h-100 m-1 flex w-5">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="16"
                            height="16"
                            fill="white"
                            class="bi bi-star-fill pointer-events-auto z-[999] grow"
                            [ngStyle]="{ fill: recipe.favorite ? 'yellow' : 'white' }"
                            (click)="toggleFavorite(recipe)"
                            viewBox="0 0 16 16">
                            <path
                                d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
                        </svg>
                    </div>
                </div>
                <!-- <div class="absolute right-0 top-7  h-3 w-3 bg-black"></div> -->
            </div>
        </div>
    </div>
</section>

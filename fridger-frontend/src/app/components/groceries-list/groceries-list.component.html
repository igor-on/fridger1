<main class="p-8">
    <div class="upper-content">
        <div class="global-search">
            <input
                class="w-80 sm:w-[40rem]"
                type="text"
                name="global-search"
                id=""
                placeholder="Search groceries by date, ingredient and etc..."
                [formControl]="globalFilter"
                autocomplete="off" />
        </div>
    </div>

    <div class="main-content">
        <div class="title flex items-center">
            <h1>Your groceries</h1>
            <mat-icon
                (click)="dateRangeFieldsVisible = !dateRangeFieldsVisible"
                class="mb-2"
                aria-hidden="false"
                aria-label="Example add icon"
                [fontIcon]="dateRangeFieldsVisible ? 'cancel' : 'add_circle'"></mat-icon>
            @if (dateRangeFieldsVisible) {
            <app-dynamic-form [fields]="dateRangeFields" [buttons]="dateRangeBtns"></app-dynamic-form>
            }
        </div>

        <app-list
            (onItemClickedEvent)="itemClicked($event)"
            [source]="getGlobalFilteredGroceries().reverse()"
            [circleInfoTemplate]="itemCount"></app-list>

        <ng-template #itemCount let-groceries>
            <div class="flex h-full w-full flex-col items-center justify-center bg-green-300">
                <div class="text-sm">items count:</div>
                <div class="text-7xl">{{ groceries.ingredients.length }}</div>
            </div>
        </ng-template>
    </div>
</main>
